<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasa de apostas</title>
</head>

<body>
    <div id="divBotaoJogueAgora">
        <button onclick="jogue()">Jogue Agora!</button>

    </div>
    <div id="divJogo" style="display: none;">
        <button onclick="comprar()">Pedir Outra Carta</button>
        <button onclick="passar()">Passa a Vez Marreco</button>
    </div>
</body>

</html>
<script>
    var repetiu = false;
    var pontosJogador = 0;
    var pontosBanca = 0;
    var numNaipe = 0
    var numBaralho = 0
    var jogo = ''
    var naipe = ''
    var vtNaipe = ['copas', 'espadas', 'paus', 'ouros'];
    var vtBaralho = ['√Ås', '2', '3', '4', '5', '6', '7', 'Valete', 'Dama', 'Rei']
    var vtListar = []

    function jogue() {
        divBotaoJogueAgora.style.display = "none"
        divJogo.style.display = "block"
        comprar()
    }
    // function verificacao(){
    //     for (var index = 0; index <= vtListar.length; index++) {
    //         if (vtListar[index] == cartaSorteada) {
    //             repetiu = true;
    //         }
    //     }
    // }
    function comprar() {
        if (repetiu == false) {
            numNaipe = (Math.random() * 3).toFixed()
            naipe = vtNaipe[numNaipe]
            numBaralho = (Math.random() * 9).toFixed()
            jogo = vtBaralho[numBaralho]
            var cartaSorteada = `${jogo} de ${naipe}`
            vtListar.push(cartaSorteada)
            if (jogo == vtBaralho[0]) {
                pontosJogador += 1
            }
            if (jogo == vtBaralho[1]) {
                pontosJogador += 2
            }
            if (jogo == vtBaralho[2]) {
                pontosJogador += 3
            }
            if (jogo == vtBaralho[3]) {
                pontosJogador += 4
            }
            if (jogo == vtBaralho[4]) {
                pontosJogador += 5
            }
            if (jogo == vtBaralho[5]) {
                pontosJogador += 6
            }
            if (jogo == vtBaralho[6]) {
                pontosJogador += 7
            }
            if (jogo == vtBaralho[7]) {
                pontosJogador += 0.5
            }
            if (jogo == vtBaralho[8]) {
                pontosJogador += 0.5
            }
            if (jogo == vtBaralho[9]) {
                pontosJogador += 0.5
            }
            divJogo.innerHTML += `<br>(${pontosJogador}) ${cartaSorteada}`
            if (pontosJogador == 7.5) {
                divJogo.innerHTML += `<h1>O jogador ganhou!</h1><br>
                Pontos do Jogador: ${pontosJogador}<br>
                Pontos da Banca: ${pontosBanca}`
            }
            if (pontosJogador > 7.5) {
                divJogo.innerHTML += `<br>O jogador estourou 
                <br><h1>A Banca Ganhou</h1><br>
                Pontos do Jogador: ${pontosJogador}<br>
                Pontos da Banca: ${pontosBanca}`
            }
            // verificacao()
        }
    }
    function comprarBanca() {
        numNaipe = (Math.random() * 3).toFixed()
        naipe = vtNaipe[numNaipe]
        numBaralho = (Math.random() * 9).toFixed()
        jogo = vtBaralho[numBaralho]
        if (jogo == vtBaralho[0]) {
            pontosBanca += 1
        }
        if (jogo == vtBaralho[1]) {
            pontosBanca += 2
        }
        if (jogo == vtBaralho[2]) {
            pontosBanca += 3
        }
        if (jogo == vtBaralho[3]) {
            pontosBanca += 4
        }
        if (jogo == vtBaralho[4]) {
            pontosBanca += 5
        }
        if (jogo == vtBaralho[5]) {
            pontosBanca += 6
        }
        if (jogo == vtBaralho[6]) {
            pontosBanca += 7
        }
        if (jogo == vtBaralho[7]) {
            pontosBanca += 0.5
        }
        if (jogo == vtBaralho[8]) {
            pontosBanca += 0.5
        }
        if (jogo == vtBaralho[9]) {
            pontosBanca += 0.5
        }
        if (pontosBanca == 7.5) {
            divJogo.innerHTML += `<h1> Banca ganhou!</h1><br>
                Pontos do Jogador: ${pontoJogador}<br>
                Pontos da Banca: ${pontosBanca}`
        }
        if (pontosBanca > 7.5) {
            divJogo.innerHTML += `<br>A Banca estourou 
                                  <br><h1>O Jogador Ganhou</h1><br>
                                  Pontos do Jogador: ${pontosJogador}<br>
                                  Pontos da Banca: ${pontosBanca}`
        }
    }
    function passar() {
        for (var index = 0; pontosBanca <= 7.5; index++) {
            comprarBanca()
            if (pontosBanca == 7.5) {
                divJogo.innerHTML += `<h1>A Banca ganhou!</h1><br>
                Pontos do Jogador: ${pontosJogador}<br>
                Pontos da Banca: ${pontosBanca}`
                break;
            }
        }
    }
</script>